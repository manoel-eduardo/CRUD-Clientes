<h2 class="page-header">Cadastro de Clientes</h2>
<form name="form" ng-submit="salvar(form)" ng-class="formClass" novalidate>
    <div class="row">
        <div class="form-group col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4">
            <label for="nome">Nome</label>
            <input id="nome" type="text" name="nome" class="form-control" ng-model="cliente.nome" placeholder="Informe o nome do cliente..." required/>
            <div class="invalid-feedback">
                Campo obrigatório.
            </div>
        </div>
        <div class="form-group col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4">
            <label for="cpf">CPF</label>
            <input id="cpf" ui-br-cpf-mask type="text" name="cpf" ng-class="cpfClass" ng-model="cliente.cpf" placeholder="Informe o CPF..." required/>
            <div class="invalid-feedback">
                Campo obrigatório.
            </div>
            <div ng-show="error.cpf">
                <spam>
                    <small class="text-danger">CPF inválido.</small>
                </spam>
            </div>
        </div>
        <div class="form-group col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4">
            <label for="dtNascimento">Data de nascimento</label>
            <div class="input-group" moment-picker="cliente.dtNascimento" format="DD/MM/YYYY">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                        <i class="fa fa-calendar"></i>
                    </span>
                </div>
                <input id="dtNascimento" type="text" name="dtNascimento" ng-class="dtNascimentoClass" placeholder="Informe a data de nascimento..." ng-model="cliente.dtNascimento" ng-model-options="{ updateOn: 'blur' }"  required onkeydown="return false;">
                <div class="invalid-feedback">
                    Campo obrigatório.
                </div>
            </div>
            <div ng-show="error.dtNascimento">
                <spam>
                    <small class="text-danger">Cadastro permitido apenas para maiores de 18 anos.</small>
                </spam>
            </div>
        </div>
    </div>

    <div class="row" ng-if="action == 'edit'">
        <div class="form-group col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
            Data/Hora do cadastro: <strong>{{cliente.insertedAt}}</strong>
        </div>
    </div>
    
    <h3>Telefones</h3>
    <hr/>
    <div ng-repeat="(key, telefone) in cliente.telefones track by $index" class="row">
        <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
            <div class="input-group mb-3">
                <input type="text" class="form-control" ng-model="cliente.telefones[key]" ui-br-phone-number-mask placeholder="Informe o número do telefone...">
                <div class="input-group-append">
                    <a class="btn btn-danger" ng-click="removerTelefone(key)"> - </a>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
            <a class="btn btn-primary" ng-click="addTelefone()">+ Adicionar telefone</a>
        </div>
    </div>
    <hr/>
    <div class="row">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
            <div class="form-group">
                <div class="btn-toolbar">
                    <div class="btn-group mr-2">
                            <input type="submit" class="btn btn-success" value="Salvar"/>
                    </div>
                    <div class="btn-group">
                        <a class="btn btn-light" href="#!list">Voltar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>